/*! vanillajs v1.1.0 | (c) 2018 Chris Ferdinandi | MIT License | http://github.com/cferdinandi/vanilla-js-podcast | Open Source Credits: https://github.com/filamentgroup/loadJS/, https://github.com/filamentgroup/loadCSS, https://github.com/bramstein/fontfaceobserver */
window.Array&&!Array.prototype.forEach&&(Array.prototype.forEach=function(e,t){t=t||window;for(var s=0;s<this.length;s++)e.call(t,this[s],s,this)});var latestEpisodes=function(e){"use strict";if(e){var t={itunes:"https://itunes.apple.com/us/podcast/the-vanilla-js-podcast/id1364574460",soundcloud:"https://soundcloud.com/vanillajspodcast/"},s=function(e){return e=e.toString(),e.length<2?"0"+e:e},n=function(e){return{minutes:Math.floor(e/1e3/60),seconds:s(Math.floor(e/1e3%60))}},a=function(e){var s="";return e.forEach((function(e){var a=e.title.split(" - "),o=n(e.duration);s+='<li class="margin-bottom-small"><strong class="margin-right">'+a[0]+'</strong><a class="link-no-underline" href="'+t.soundcloud+e.permalink+'">'+a[1]+'</a> <span class="text-small text-muted">('+o.minutes+":"+o.seconds+")</span></li>"})),s},o=function(s){var n='<h2 class="h3">Latest Episodes</h2>';n+=a(s),e.innerHTML='<ul class="list-unstyled margin-bottom-medium">'+n+'</ul><p><em>Listen to full series on <a href="'+t.itunes+'">iTunes</a> or <a href="'+t.soundcloud+'">SoundCloud</a>.</em></p>'};!(function(){var e=new XMLHttpRequest;e.onreadystatechange=function(){4===e.readyState&&200===e.status&&o(JSON.parse(e.response))},e.open("GET","https://api.soundcloud.com/users/422835952/tracks?client_id=HDNfsDscL9cEWTl8lfqFKfLPTErC4Qio"),e.send()})()}},mailchimp=function(e){"use strict";var t=document.querySelector("#mailchimp-form");if(t){var s=t.querySelector("#mailchimp-email");if(s){var n=t.querySelector("#mc-status"),a={empty:"Please provide an email address.",notEmail:"Please use a valid email address."},o=function(e){for(var t="",s=0;s<e.elements.length;s++){var n=e.elements[s];n.name&&!n.disabled&&"file"!==n.type&&"reset"!==n.type&&"submit"!==n.type&&"button"!==n.type&&(("checkbox"!==n.type&&"radio"!==n.type||n.checked)&&(t+="&"+encodeURIComponent(n.name)+"="+encodeURIComponent(n.value)))}return t},r=function(){n&&(n.innerHTML="",n.className="",s.className="",s.removeAttribute("aria-describedby"))},i=function(e,t){console.log(1),n&&(console.log(1),n.innerHTML=e,t?(n.className="success-message",n.setAttribute("tabindex","-1"),n.focus()):(n.className="error-message",s.className="error",s.setAttribute("aria-describedby","mc-status"),s.focus()))},c=function(){var e=t.querySelector("[data-processing]");e&&(e.setAttribute("data-original",e.innerHTML),e.setAttribute("disabled","disabled"),e.innerHTML=e.getAttribute("data-processing"))},l=function(){var e=t.querySelector("[data-processing]");e&&(e.removeAttribute("disabled"),e.innerHTML=e.getAttribute("data-original"))};window.mailchimpCallback=function(t){l();var s="error"!==t.result;i(t.msg,s),e&&"function"==typeof e&&e(t)};var x=function(){c();var e=t.getAttribute("action");e=e.replace("/post?u=","/post-json?u="),e+=o(t)+"&c=mailchimpCallback";var s=window.document.getElementsByTagName("script")[0],n=window.document.createElement("script");n.src=e,window.mcStatus=t.querySelector(".mc-status"),s.parentNode.insertBefore(n,s),n.onload=function(){this.remove()}},u=function(){return/^([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x22([^\x0d\x22\x5c\x80-\xff]|\x5c[\x00-\x7f])*\x22)(\x2e([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x22([^\x0d\x22\x5c\x80-\xff]|\x5c[\x00-\x7f])*\x22))*\x40([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x5b([^\x0d\x5b-\x5d\x80-\xff]|\x5c[\x00-\x7f])*\x5d)(\x2e([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x5b([^\x0d\x5b-\x5d\x80-\xff]|\x5c[\x00-\x7f])*\x5d))*(\.\w{2,})+$/.test(s.value)},d=function(){return s.value.length<1?(i(a.empty),!1):!!u()||(i(a.notEmail),!1)},m=function(e){e.preventDefault(),r(),d()&&x()};t.setAttribute("novalidate","novalidate"),t.addEventListener("submit",m,!1)}}};document.querySelector("#mailchimp-form")&&mailchimp((function(e){"error"!==e.result&&(window.location.href="https://gomakethings.com/newsletter-success")}));var episodes=document.querySelector("#latest-episodes");episodes&&latestEpisodes(episodes);